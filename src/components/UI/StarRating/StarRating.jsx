export const StarRating = ({ rating, size = 12 }) => {
  const renderStars = () => {
    const stars = [];
    const roundedRating = Math.round(rating * 2) / 2;

    for (let i = 1; i <= 5; i++) {
      if (i <= roundedRating) {
        stars.push(
          <span key={i}>
            <svg
              width={size}
              height={size}
              viewBox="0 0 18 17"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M9.34435 13.9012L13.285 16.3974C13.7887 16.7162 14.4137 16.2418 14.2644 15.6537L13.1262 11.1756C13.0941 11.0508 13.0978 10.9195 13.1369 10.7968C13.1761 10.6741 13.249 10.5649 13.3475 10.4818L16.8812 7.54118C17.345 7.15493 17.1062 6.38431 16.5094 6.34556L11.895 6.04556C11.7707 6.03675 11.6516 5.99283 11.5513 5.91891C11.4511 5.845 11.3739 5.74414 11.3287 5.62806L9.60748 1.29431C9.56061 1.17115 9.47741 1.06514 9.36892 0.99034C9.26042 0.915543 9.13176 0.875488 8.99998 0.875488C8.8682 0.875488 8.73953 0.915543 8.63104 0.99034C8.52254 1.06514 8.43935 1.17115 8.39248 1.29431L6.67123 5.62806C6.62617 5.74425 6.54902 5.84525 6.44877 5.91928C6.34852 5.99331 6.22929 6.03732 6.10498 6.04618L1.4906 6.34618C0.894355 6.38431 0.654355 7.15493 1.11873 7.54118L4.65248 10.4824C4.7508 10.5655 4.82371 10.6746 4.86284 10.7972C4.90198 10.9198 4.90575 11.0509 4.87373 11.1756L3.81873 15.3287C3.63935 16.0343 4.38998 16.6037 4.99373 16.2206L8.65623 13.9012C8.75917 13.8357 8.87862 13.801 9.0006 13.801C9.12258 13.801 9.24204 13.8357 9.34498 13.9012H9.34435Z"
                fill="#FF8A00"
              />
            </svg>
          </span>
        );
      } else if (i - 0.5 === roundedRating) {
        stars.push(
          <span key={i}>
            <svg
              width={size}
              height={size}
              viewBox="0 0 10 10"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M5.08172 8.44066L7.4461 9.93841C7.74835 10.1297 8.12335 9.84504 8.03372 9.49216L7.35085 6.80529C7.33156 6.73044 7.33378 6.65168 7.35727 6.57804C7.38075 6.50441 7.42454 6.43889 7.4836 6.38904L9.60385 4.62466C9.8821 4.39291 9.73885 3.93054 9.38072 3.90729L6.6121 3.72729C6.53755 3.722 6.46605 3.69565 6.4059 3.6513C6.34575 3.60695 6.29944 3.54643 6.27235 3.47679L5.2396 0.876537C5.21148 0.802639 5.16156 0.739034 5.09646 0.694155C5.03136 0.649277 4.95416 0.625244 4.8751 0.625244C4.79603 0.625244 4.71883 0.649277 4.65373 0.694155C4.58864 0.739034 4.53872 0.802639 4.5106 0.876537L3.47785 3.47679C3.45081 3.5465 3.40452 3.6071 3.34437 3.65152C3.28422 3.69593 3.21268 3.72234 3.1381 3.72766L0.369473 3.90766C0.0117229 3.93054 -0.132277 4.39291 0.146348 4.62466L2.2666 6.38941C2.32559 6.43924 2.36934 6.50469 2.39282 6.57825C2.4163 6.65181 2.41856 6.7305 2.39935 6.80529L1.76635 9.29716C1.65872 9.72054 2.1091 10.0622 2.47135 9.83229L4.66885 8.44066C4.73061 8.4014 4.80228 8.38054 4.87547 8.38054C4.94866 8.38054 5.01996 8.4014 5.08172 8.44066Z"
                fill="#FF8A00"
              />
              <path
                d="M5 8.40119C5.02869 8.411 5.05589 8.42424 5.08172 8.44066L7.4461 9.93841C7.74835 10.1297 8.12335 9.84504 8.03372 9.49216L7.35085 6.80529C7.33156 6.73044 7.33378 6.65168 7.35727 6.57804C7.38075 6.50441 7.42454 6.43889 7.4836 6.38904L9.60385 4.62466C9.8821 4.39291 9.73885 3.93054 9.38072 3.90729L6.6121 3.72729C6.53755 3.722 6.46605 3.69565 6.4059 3.6513C6.34575 3.60695 6.29944 3.54643 6.27235 3.47679L5.2396 0.876537C5.21148 0.802639 5.16156 0.739034 5.09646 0.694155C5.06653 0.673523 5.03405 0.657263 5 0.645752V8.40119Z"
                fill="#CCCCCC"
              />
            </svg>
          </span>
        );
      } else {
        stars.push(
          <span key={i}>
            <svg
              width={size}
              height={size}
              viewBox="0 0 18 17"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M9.34435 13.9012L13.285 16.3974C13.7887 16.7162 14.4137 16.2418 14.2644 15.6537L13.1262 11.1756C13.0941 11.0508 13.0978 10.9195 13.1369 10.7968C13.1761 10.6741 13.249 10.5649 13.3475 10.4818L16.8812 7.54118C17.345 7.15493 17.1062 6.38431 16.5094 6.34556L11.895 6.04556C11.7707 6.03675 11.6516 5.99283 11.5513 5.91891C11.4511 5.845 11.3739 5.74414 11.3287 5.62806L9.60748 1.29431C9.56061 1.17115 9.47741 1.06514 9.36892 0.99034C9.26042 0.915543 9.13176 0.875488 8.99998 0.875488C8.8682 0.875488 8.73953 0.915543 8.63104 0.99034C8.52254 1.06514 8.43935 1.17115 8.39248 1.29431L6.67123 5.62806C6.62617 5.74425 6.54902 5.84525 6.44877 5.91928C6.34852 5.99331 6.22929 6.03732 6.10498 6.04618L1.4906 6.34618C0.894355 6.38431 0.654355 7.15493 1.11873 7.54118L4.65248 10.4824C4.7508 10.5655 4.82371 10.6746 4.86284 10.7972C4.90198 10.9198 4.90575 11.0509 4.87373 11.1756L3.81873 15.3287C3.63935 16.0343 4.38998 16.6037 4.99373 16.2206L8.65623 13.9012C8.75917 13.8357 8.87862 13.801 9.0006 13.801C9.12258 13.801 9.24204 13.8357 9.34498 13.9012H9.34435Z"
                fill="#cccccc"
              />
            </svg>
          </span>
        );
      }
    }

    return stars;
  };

  return <div>{renderStars()}</div>;
};
